(()=>{"use strict";if([{class:class{constructor(e){this.nav=document.querySelector(".header__top"),null!==document.querySelector(".dj-messages")&&document.querySelector(".dj-messages").addEventListener("click",(e=>{e.target.remove()})),window.onresize=function(e){window.innerWidth>700&&!document.querySelector(".header__top").classList.contains("show")&&document.querySelector(".header__top").classList.add("show")},this.element=e,this.element.onclick=e=>{this.toggle()}}toggle(){this.nav.classList.contains("show")?(this.nav.classList.add("hide"),this.nav.classList.remove("show"),this.element.innerHTML=" <span>&#9776;</span>"):(this.nav.classList.add("show"),this.nav.classList.remove("hide"),this.element.innerHTML=" <span>&times;</span>")}},selector:"#toggle-bar",option:{save:!1}},{class:class{constructor(){this.$back=document.querySelector(".back-btn"),this.send=document.querySelector(".send-btn"),this.confimation_area=document.querySelector("#confirm"),this.verification_btn=document.querySelector(".verify"),this.$back.onclick=e=>{this.goback()},document.forms[0].addEventListener("submit",(e=>{e.preventDefault(),document.querySelector("#confirm").style.display="none",document.querySelector(".loader").classList.toggle("fade-out-loader"),this.sendData(e.target)})),this.verification_btn.onclick=e=>{this.show_confimation_area()}}goback(){console.log("enythinsg"),this.confimation_area.style.display="none",this.verification_btn.style.display="block"}show_confimation_area(){this.confimation_area.style.display="block",this.verification_btn.style.display="none"}sendData(e){fetch(e.action,{method:"POST",body:new FormData(e),headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.json())).then((function(e){e.errors?location.href=e.errors:(document.querySelector(".loader").classList.toggle("fade-out-loader"),console.log(e),document.getElementById("resutat").innerHTML=e.result)}))}},selector:"#quize-area"},{class:class{constructor(e){e.onclick=function(e){confirm("Voulez vous vraiment quitter cette page ?")&&window.history.back()}}},selector:"#back"},{class:class{constructor(){const e=function(){document.getElementById("numberOfComment").innerHTML=document.querySelectorAll(".comment-wapper").length+document.querySelectorAll(".replay").length};function t(){let t=document.getElementById("replay-form");fetch(t.action,{method:"POST",body:new FormData(t),headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.json())).then((t=>{document.querySelector("#js-listing-comments").innerHTML=t.data,n(),o(),e()}))}function n(){document.querySelectorAll(".comment").forEach((e=>{e.onmouseenter=function(t){e.querySelector(".replay__btn").style.opacity=1},e.onmouseleave=function(t){e.querySelector(".replay__btn").style.opacity=0}}))}function o(){let e=document.querySelectorAll(".replay__btn");if(e.length>0)for(let n=0;n<e.length;n++)e[n].addEventListener("click",(function(o){let r=e[n].getAttribute("id"),s=document.getElementById(r);null!==document.getElementById("js-listing-comments").querySelector("#replay-form")&&document.getElementById("js-listing-comments").querySelectorAll("#replay-form").forEach((e=>{e.remove()}));let c=s.parentNode;c.querySelector(".r-form").innerHTML+=document.querySelector("#replay-form").parentNode.innerHTML,document.currentReplay_id=r,c.querySelector("#replay-form").addEventListener("submit",(e=>{e.preventDefault(),c.querySelector("#replay-form").hidden.value=document.currentReplay_id,t()}))}))}document.getElementById("js-comment").addEventListener("submit",(t=>{t.preventDefault(),function(){let t=document.getElementById("js-comment");fetch(t.action,{method:"POST",body:new FormData(t),headers:{"X-Requested-With":"XMLHttpRequest"}}).then((e=>e.json())).then((r=>{t.reset(),document.querySelector("#js-listing-comments").innerHTML=r.data,n(),o(),e()}))}()})),e(),n(),o()}},selector:"#numberOfComment"}].forEach((e=>{null!==document.querySelector(e.selector)&&document.querySelectorAll(e.selector).forEach((t=>new e.class(t,e.options)))})),null!==document.querySelector(".main_page")){console.log("observer");let e=document.querySelectorAll(".visible"),t=new IntersectionObserver((function(e,n){e.forEach((e=>{e.isIntersecting&&(e.target.classList.add("unvisible"),t.unobserve(e.target))}))}),{root:null,rootMargin:"0px",threshold:.2});e.forEach((e=>{t.observe(e)}))}})();
//# sourceMappingURL=app.js.map